<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
    <title>07.Exercise</title>
    <link href='styles/js-console.css' rel='stylesheet' />
</head>

<body>
    <p>07.Write a program that finds the index of given element in a sorted array of integers by using the binary search algorithm (find it in Wikipedia).</p>
    <br />
    <p>Reload the page to generate another array.</p>
    <div id='js-console'></div>
    <script src='scripts/js-console.js'></script>
    <script>

        var arrayInt = new Array(20);
        var element = Math.floor((Math.random() * 9));
        for (var i = 0; i < 20; i += 1) {
            arrayInt[i] = Math.floor((Math.random() * 19));
        };

        jsConsole.writeLine('arr = ' + arrayInt.join(', '));

        arrayInt = arrayInt.sort(function (a, b) { return a - b })
        var start = 0;
        var middle = Math.floor(arrayInt.length / 2);
        var end = arrayInt.length - 1;
        var index = 0;

        while (true) {
            if (element < arrayInt[middle]) {
                end = middle;
                middle = Math.floor((start + end) / 2);
            }

            else if (element > arrayInt[middle]) {
                start = middle;
                middle = Math.floor((start + end) / 2);
            }

            else {
                jsConsole.writeLine('The index of the element ' + element + ' would be ' + middle + ' if the array was sorted!');
                break;
            }

            if (start == end) {
                jsConsole.writeLine('The index of the element ' + element + ' would be ' + start + ' if the array was sorted!');
                break;
            }

            else if (element == arrayInt[start]) {
                jsConsole.writeLine('The index of the element ' + element + ' would be ' + start + ' if the array was sorted!');
                break;
            }

            else if (element == arrayInt[end]) {
                jsConsole.writeLine('The index of the element ' + element + ' would be ' + end + ' if the array was sorted!');
                break;
            }
        }
    </script>
</body>

</html>
